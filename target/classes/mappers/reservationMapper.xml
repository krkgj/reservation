<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.zerock.mapper.ReservationMapper">

<insert id="reservation">
insert into reservation values(#{uname} ,#{unumber} , #{reserveStartTime} ,DATE_ADD(#{reserveEndTime},INTERVAL 1 HOUR), #{seat})
 </insert>


<select id="UserDuplicateCheck" resultType="int"> <!-- 예약을 한 사용자가 이미 예약목록 테이블에 존재하는지 안하는지 검사하는 코드입니다. -->
select count(uname) from reservation where uname = #{uname}
</select>


<select id="seatstatus" resultType="SeatVO">
select * from reservation_seat where seat = #{seat}   
<!-- reservation_seat 테이블에 담긴 데이터를 모두 가져오는데 라디오버튼을 클릭한 좌석의 컬럼만을 가져오기 위한 쿼리를 DAO 에서 받은 seat 변수를 이용하여 실행합니다. -->
</select>

<update id="updateseatstatus">
update reservation_seat set NineToTen = #{NineToTen}, TenToEleven = #{TenToEleven}, ElevenToTwelve = #{ElevenToTwelve}, TwelveThirteen = #{TwelveThirteen},
<<<<<<< HEAD
ThirteenToFourteen = #{ThirteenToFourteen},FourteenToFifteen = #{FourteenToFifteen}, FifteenToSixteen = #{FifteenToSixteen}, SixteenToSeventeen = #{SixteenToSeventeen}, SeventeenToEightteen = #{SeventeenToEightteen},
=======
ThirteenToFourteen = #{ThirteenToFourteen}, FourteenToFifteen = #{FourteenToFifteen}, FifteenToSixteen = #{FifteenToSixteen}, SixteenToSeventeen = #{SixteenToSeventeen}, SeventeenToEightteen = #{SeventeenToEightteen},
>>>>>>> c2b6e68700561b4d708416b45daaee4308b311fc
EightteenToNineteen = #{EightteenToNineteen}, NineteenToTwenty = #{NineteenToTwenty}, TwentyToTwentyOne = #{TwentyToTwentyOne},
TwentyOneToTwentyTwo = #{TwentyOneToTwentyTwo} where seat = #{seat}
</update>

<<<<<<< HEAD
	

	
=======



>>>>>>> c2b6e68700561b4d708416b45daaee4308b311fc
</mapper>	